<h2 class="title" mat-dialog-title>{{ data.name }}</h2>

<div class="content" mat-dialog-content>
  <mat-chip-set class="chips">
    <mat-chip>{{ data.category | translateCategory }}</mat-chip>
    <mat-chip>Difficulté: {{ starLine(data.difficulty!) }}</mat-chip>
    <mat-chip>{{ data.basePoints }} pts</mat-chip>
    <mat-chip *ngIf="data.isRepeatable">Répétable</mat-chip>
    <mat-chip *ngIf="!data.isRepeatable">Non répétable</mat-chip>
  </mat-chip-set>

  <p *ngIf="data.description">{{ data.description }}</p>

  <div class="impacts">
    <h3>Estimations d’impact</h3>
    <ul>
      <li>CO₂ : {{ data.co2EstimateKg }} kg</li>
      <li>Eau : {{ data.waterEstimateL }} L</li>
      <li>Déchets : {{ data.wasteEstimateKg }} kg</li>
    </ul>
  </div>
</div>

<div mat-dialog-actions>
  <button (click)="close()" mat-button>Fermer</button>
  <button
    (click)="startFromDialog($event)"
    [disabled]="data.isInUserProgression || isStarting"
    class="start"
    color="warn"
    mat-raised-button
    matTooltip="{{
      data.isInUserProgression
        ? 'Déjà en cours'
        : (data.isRepeatable ? 'Recommencer le défi' : 'Commencer le défi')
    }}"
    matTooltipPosition="above"

    title="Commencer le défi">
    <mat-icon>add</mat-icon>
  </button>
</div>
